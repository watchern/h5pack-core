import{d as p,n as S,l as r,t as m,c as X,r as C,f as _,F as D,a5 as Y,s as w,E as Z,k as f,a6 as I,a7 as N,y as R,H as $,a8 as z,i as U,A as ee,a9 as te,p as B,aa as ae,ab as ne,ac as le,C as se,_ as ue,M as ie,N as oe,U as ce,a0 as de,P as re}from"./index-Cogiyuz_.js";import{b as O}from"./route-block-B_A1xBdJ.js";const[me,P]=X("stepper"),fe=200,V=(e,l)=>String(e)===String(l),be={min:r(1),max:r(1/0),name:r(""),step:r(1),theme:String,integer:Boolean,disabled:Boolean,showPlus:m,showMinus:m,showInput:m,longPress:m,autoFixed:m,allowEmpty:Boolean,modelValue:S,inputWidth:S,buttonSize:S,placeholder:String,disablePlus:Boolean,disableMinus:Boolean,disableInput:Boolean,beforeChange:Function,defaultValue:r(1),decimalLength:S};var ve=p({name:me,props:be,emits:["plus","blur","minus","focus","change","overlimit","update:modelValue"],setup(e,{emit:l}){const o=(t,n=!0)=>{const{min:s,max:g,allowEmpty:u,decimalLength:h}=e;return u&&t===""||(t=z(String(t),!e.integer),t=t===""?0:+t,t=Number.isNaN(t)?+s:t,t=n?Math.max(Math.min(+g,t),+s):t,U(h)&&(t=t.toFixed(+h))),t},c=()=>{var t;const n=(t=e.modelValue)!=null?t:e.defaultValue,s=o(n);return V(s,e.modelValue)||l("update:modelValue",s),s};let i;const x=C(),a=C(c()),d=_(()=>e.disabled||e.disableMinus||+a.value<=+e.min),b=_(()=>e.disabled||e.disablePlus||+a.value>=+e.max),H=_(()=>({width:D(e.inputWidth),height:D(e.buttonSize)})),E=_(()=>Y(e.buttonSize)),K=()=>{const t=o(a.value);V(t,a.value)||(a.value=t)},k=t=>{e.beforeChange?ae(e.beforeChange,{args:[t],done(){a.value=t}}):a.value=t},y=()=>{if(i==="plus"&&b.value||i==="minus"&&d.value){l("overlimit",i);return}const t=i==="minus"?-e.step:+e.step,n=o(le(+a.value,t));k(n),l(i)},W=t=>{const n=t.target,{value:s}=n,{decimalLength:g}=e;let u=z(String(s),!e.integer);if(U(g)&&u.includes(".")){const A=u.split(".");u="".concat(A[0],".").concat(A[1].slice(0,+g))}e.beforeChange?n.value=String(a.value):V(s,u)||(n.value=u);const h=u===String(+u);k(h?+u:u)},j=t=>{var n;e.disableInput?(n=x.value)==null||n.blur():l("focus",t)},q=t=>{const n=t.target,s=o(n.value,e.autoFixed);n.value=String(s),a.value=s,ee(()=>{l("blur",t),te()})};let T,v;const F=()=>{v=setTimeout(()=>{y(),F()},fe)},J=()=>{e.longPress&&(T=!1,clearTimeout(v),v=setTimeout(()=>{T=!0,y(),F()},ne))},M=t=>{e.longPress&&(clearTimeout(v),T&&B(t))},Q=t=>{e.disableInput&&B(t)},L=t=>({onClick:n=>{B(n),i=t,y()},onTouchstartPassive:()=>{i=t,J()},onTouchend:M,onTouchcancel:M});return w(()=>[e.max,e.min,e.integer,e.decimalLength],K),w(()=>e.modelValue,t=>{V(t,a.value)||(a.value=o(t))}),w(a,t=>{l("update:modelValue",t),l("change",t,{name:e.name})}),Z(()=>e.modelValue),()=>f("div",{role:"group",class:P([e.theme])},[I(f("button",R({type:"button",style:E.value,class:[P("minus",{disabled:d.value}),{[$]:!d.value}],"aria-disabled":d.value||void 0},L("minus")),null),[[N,e.showMinus]]),I(f("input",{ref:x,type:e.integer?"tel":"text",role:"spinbutton",class:P("input"),value:a.value,style:H.value,disabled:e.disabled,readonly:e.disableInput,inputmode:e.integer?"numeric":"decimal",placeholder:e.placeholder,autocomplete:"off","aria-valuemax":e.max,"aria-valuemin":e.min,"aria-valuenow":a.value,onBlur:q,onInput:W,onFocus:j,onMousedown:Q},null),[[N,e.showInput]]),I(f("button",R({type:"button",style:E.value,class:[P("plus",{disabled:b.value}),{[$]:!b.value}],"aria-disabled":b.value||void 0},L("plus")),null),[[N,e.showPlus]])])}});const ge=se(ve),G=p({name:"KeepAlive",__name:"index",setup(e,{expose:l}){l();const c={value:C(1)};return Object.defineProperty(c,"__isScriptSetup",{enumerable:!1,value:!0}),c}});function he(e,l,o,c,i,x){const a=ge;return oe(),ie(re,null,[ce("p",null,de(e.$t("keepAlive.label")),1),f(a,{modelValue:c.value,"onUpdate:modelValue":l[0]||(l[0]=d=>c.value=d),class:"mt-10"},null,8,["modelValue"])],64)}typeof O=="function"&&O(G);const Pe=ue(G,[["render",he],["__file","C:/Users/Administrator/Desktop/vue-crx/vue3-vant-mobile/src/pages/keepalive/index.vue"]]);export{Pe as default};
