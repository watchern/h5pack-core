System.register(["./inline-px-to-vw-legacy-lBc0DSbz.js","./index-legacy-BHZTeJqv.js","./index-legacy-N3SdTcc0.js","./index-legacy-B_GKFJFJ.js","./route-block-legacy-wdPIt6g0.js","./use-id-legacy-C3jmee9c.js","./toNumber-legacy-Dr0V64cZ.js","./index-legacy-DV627hNC.js"],(function(e,o){"use strict";var s,a,r,l,d,t,i,n,u,m,c,p,f,g,w,y,v,h,x,V,b,j,P;return{setters:[e=>{s=e.F,a=e.a,r=e.v,l=e._},e=>{d=e.d,t=e.G,i=e.V,n=e.a2,u=e.r,m=e.a3,c=e.f,p=e.M,f=e.N,g=e.k,w=e.O,y=e.W,v=e.Q,h=e.a0,x=e.a1,V=e.a4,b=e.a5},null,e=>{j=e.B},e=>{P=e.b},null,null,null],execute:function(){const o={class:"m-x-a text-center w-7xl"},$={class:"rounded-3xl overflow-hidden"},_={class:"mt-16 rounded-3xl overflow-hidden"},k={class:"mt-16 rounded-3xl overflow-hidden"},C={class:"mt-16 rounded-3xl overflow-hidden"},E={class:"mt-16"},M=e("default",d({__name:"index",setup(e){const{t:d}=t(),P=i(),M=n(),q=u(!1),S=m({email:"",code:"",password:"",confirmPassword:""}),U=m({email:[{required:!0,message:d("forgot-password.pleaseEnterEmail")}],code:[{required:!0,message:d("forgot-password.pleaseEnterCode")}],password:[{required:!0,message:d("forgot-password.pleaseEnterPassword")}],confirmPassword:[{required:!0,message:d("forgot-password.pleaseEnterConfirmPassword")},{required:!0,validator:e=>e===S.password,message:d("forgot-password.passwordsDoNotMatch")}]});async function N(){try{q.value=!0,0===(await M.reset()).code&&(b({type:"success",message:d("forgot-password.passwordResetSuccess")}),P.push({name:"login"}))}finally{q.value=!1}}const z=u(!1),B=c((()=>z.value?d("forgot-password.gettingCode"):d("forgot-password.getCode")));async function D(){if(!S.email)return void b({type:"warning",message:d("forgot-password.pleaseEnterEmail")});z.value=!0;const e=await M.getCode();0===e.code&&b({type:"success",message:`${d("forgot-password.sendCodeSuccess")}: ${e.result}`}),z.value=!1}return(e,d)=>{const t=s,i=j,n=a,u=l;return f(),p("div",o,[g(n,{model:v(S),rules:v(U),"validate-trigger":"onSubmit",onSubmit:N},{default:w((()=>[y("div",$,[g(t,{modelValue:v(S).email,"onUpdate:modelValue":d[0]||(d[0]=e=>v(S).email=e),modelModifiers:{trim:!0},rules:v(U).email,name:"email",placeholder:e.$t("forgot-password.email")},null,8,["modelValue","rules","placeholder"])]),y("div",_,[g(t,{modelValue:v(S).code,"onUpdate:modelValue":d[1]||(d[1]=e=>v(S).code=e),modelModifiers:{trim:!0},rules:v(U).code,name:"code",placeholder:e.$t("forgot-password.code")},{button:w((()=>[g(i,{size:"small",type:"primary",plain:"",onClick:D},{default:w((()=>[h(x(v(B)),1)])),_:1})])),_:1},8,["modelValue","rules","placeholder"])]),y("div",k,[g(t,{modelValue:v(S).password,"onUpdate:modelValue":d[2]||(d[2]=e=>v(S).password=e),modelModifiers:{trim:!0},type:"password",rules:v(U).password,name:"password",placeholder:e.$t("forgot-password.password")},null,8,["modelValue","rules","placeholder"])]),y("div",C,[g(t,{modelValue:v(S).confirmPassword,"onUpdate:modelValue":d[3]||(d[3]=e=>v(S).confirmPassword=e),modelModifiers:{trim:!0},type:"password",rules:v(U).confirmPassword,name:"confirmPassword",placeholder:e.$t("forgot-password.comfirmPassword")},null,8,["modelValue","rules","placeholder"])]),y("div",E,[g(i,{loading:v(q),type:"primary","native-type":"submit",round:"",block:""},{default:w((()=>[h(x(e.$t("forgot-password.confirm")),1)])),_:1},8,["loading"])])])),_:1},8,["model","rules"]),g(u,{to:"login",block:"",style:V({"margin-top":v(r)(8)})},{default:w((()=>[h(x(e.$t("forgot-password.backToLogin")),1)])),_:1},8,["style"])])}}}));"function"==typeof P&&P(M)}}}));
