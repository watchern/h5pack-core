import{_ as t}from"./LayoutTabbar.e9538d93.js";import{_ as o,a as e}from"./cellgroup.c0f39baa.js";import{j as l,A as n,k as s,c as a,d as i,o as c,a as r,w as u,b as p,n as k,u as f,e as d,r as v,p as y,F as _,f as x,t as C,q as g,z as m,g as O,B as b,s as h,l as w,m as T}from"./index-7ef9e5b0.js";import{i as A,c as B,t as j,m as S,d as D,U as $,C as F,O as P,e as z,g as I,P as L}from"./icon.4e54a3b5.js";import{u as U}from"./useTranslate.aaf894c2.js";import{_ as q}from"./button.c8a4a8e4.js";import{p as E,N as G}from"./popup.5f28c69b.js";import{_ as H}from"./_plugin-vue_export-helper.1b428a4d.js";import{_ as M}from"./toast.0dde31fe.js";import{c as N}from"./index.5059ae5b.js";import{u as J}from"./pinia-auto-refs.64a97d29.js";import"./TabBar.664c3ccb.js";import"./index.ca928f2d.js";import"./urlMap.3d32d270.js";import"./transition.3e58c70b.js";import"./request.55a7bd8a.js";import"./router.34791702.js";const K={...E,...B,closeOnClickOverlay:j,title:S(""),content:S(""),noFooter:Boolean,noOkBtn:Boolean,noCancelBtn:Boolean,cancelText:S(""),okText:S(""),okAutoClose:j,cancelAutoClose:j,textAlign:S("center"),closeOnPopstate:Boolean,footerDirection:S("horizontal"),customClass:S(""),popStyle:{type:Object},beforeClose:Function},R={update:t=>D(t),[$]:t=>D(t),ok:()=>!0,[F]:()=>!0,[P]:()=>!0,[z]:()=>!0},Q=`${L}-dialog`;function V(t,o){const e=l(t.visible),i=l({title:t.title,content:t.content,cancelText:t.cancelText,okText:t.okText,textAlign:t.textAlign,footerDirection:t.footerDirection,noFooter:t.noFooter,noOkBtn:t.noOkBtn,noCancelBtn:t.noCancelBtn,transition:t.transition,closeOnClickOverlay:t.closeOnClickOverlay,okAutoClose:t.okAutoClose});n((()=>t.title),(t=>i.value.title=t));s((()=>{t.closeOnPopstate&&window.addEventListener("popstate",(()=>{r("page")}))})),n((()=>t.visible),(t=>{e.value=t,t&&o(P)}));const c=a((()=>I(t,Q)));function r(l){!function(t,{args:o=[],done:e,canceled:l}){if(t){const n=t(null,...o);A(n)?n.then((t=>{t?e(t):l&&l()})).catch((()=>{})):n?e():l&&l()}else e()}(t.beforeClose,{args:[l],done:()=>{var t;e.value=!1,o("update",t=!1),o($,t),o(z)}})}return{contentStyle:a((()=>({textAlign:i.value.textAlign}))),showPopup:e,onClickOverlay:function(){t.closeOnClickOverlay&&r("")},onCancel:function(){o(F),t.cancelAutoClose&&(e.value=!1,r(F))},onOk:function(){o("ok"),t.okAutoClose&&r("ok")},closed:r,classes:c,showDialog:o=>{i.value={title:o.title||t.title,content:o.content||t.content,cancelText:o.cancelText||t.cancelText,okText:o.okText||t.okText,okAutoClose:o.okAutoClose||t.okAutoClose,textAlign:o.textAlign||t.textAlign,footerDirection:o.footerDirection||t.footerDirection,noFooter:o.noFooter||t.noFooter,noOkBtn:o.noOkBtn||t.noOkBtn,transition:o.transition||t.transition,noCancelBtn:o.noCancelBtn||t.noCancelBtn,closeOnClickOverlay:o.closeOnClickOverlay||t.closeOnClickOverlay},e.value=!0},dialogStatus:i}}const W=`${L}-dialog`,X=i({name:W,inheritAttrs:!1,options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),{translate:Y}=U(W),Z=H(i({...X,props:K,emits:R,setup(t,{expose:o,emit:e}){const l=t,{contentStyle:n,showPopup:s,onClickOverlay:a,onCancel:i,onOk:h,classes:w,closed:T,dialogStatus:A,showDialog:B}=V(l,e);return o({showDialog:B,onOk:h,onCancel:i}),(t,o)=>{const e=O,B=b;return c(),r(G,{visible:f(s),"onUpdate:visible":o[0]||(o[0]=t=>m(s)?s.value=t:null),"close-on-click-overlay":!1,"lock-scroll":t.lockScroll,"pop-class":t.popClass,"overlay-class":t.overlayClass,"overlay-style":t.overlayStyle,"custom-style":t.popStyle,"z-index":t.zIndex,round:"",transition:t.transition,onClickOverlay:f(a),onClickCloseIcon:f(T)},{default:u((()=>[p(e,{class:k(f(w)),style:d(t.customStyle)},{default:u((()=>[t.$slots.header||f(A).title?(c(),r(e,{key:0,class:"nut-dialog__header"},{default:u((()=>[t.$slots.header?v(t.$slots,"header",{key:0},void 0,!0):(c(),y(_,{key:1},[x(C(f(A).title||l.title),1)],64))])),_:3})):g("v-if",!0),p(e,{class:"nut-dialog__content",style:d(f(n))},{default:u((()=>[t.$slots.default?v(t.$slots,"default",{key:0},void 0,!0):"string"==typeof t.content?(c(),r(B,{key:1,nodes:f(A).content||l.content},null,8,["nodes"])):g("v-if",!0),g(' <component :is="content" v-else /> ')])),_:3},8,["style"]),f(A).noFooter?g("v-if",!0):(c(),r(e,{key:1,class:k(["nut-dialog__footer",{[t.footerDirection]:f(A).footerDirection}])},{default:u((()=>[t.$slots.footer?v(t.$slots,"footer",{key:0},void 0,!0):(c(),y(_,{key:1},[f(A).noCancelBtn?g("v-if",!0):(c(),r(q,{key:0,size:"small",plain:"",type:"primary","custom-class":"nut-dialog__footer-cancel",onClick:f(i)},{default:u((()=>[x(C(f(A).cancelText||l.cancelText||f(Y)("cancel")),1)])),_:1},8,["onClick"])),f(A).noOkBtn?g("v-if",!0):(c(),r(q,{key:1,size:"small",type:"primary","custom-class":"nut-dialog__footer-ok",onClick:f(h)},{default:u((()=>[x(C(f(A).okText||l.okText||f(Y)("confirm")),1)])),_:1},8,["onClick"]))],64))])),_:3},8,["class"]))])),_:3},8,["class","style"])])),_:3},8,["visible","lock-scroll","pop-class","overlay-class","overlay-style","custom-style","z-index","transition","onClickOverlay","onClickCloseIcon"])}}}),[["__scopeId","data-v-d6e116db"]]),tt=H(i({__name:"profile",setup(n){const a=l(!1),i=l();i.value=uni.getStorageSync("token"),console.log(i.value);const{setCurrent:k}=J("tabbar");function d(t){uni.navigateTo({url:`/pages/profilePages/${t}`})}function v(){console.log("取消"),a.value=!1}function O(){console.log("确定"),N().then((t=>{A()})).catch((t=>{console.log("err====",t)}))}const b=l();function A(){k(0),uni.clearStorage(),i.value="",uni.navigateTo({url:"/pages/loginOrSignup/loginOrSignup"})}return s((()=>{uni.$on("doorLockName",(function(){console.log("222222",222222)}))})),(l,n)=>{const s=w(T("nut-cell"),o),k=w(T("nut-cell-group"),e),B=w(T("nut-dialog"),Z),j=w(T("nut-button"),q),S=w(T("nut-toast"),M),D=t;return c(),y(_,null,[g(" bg-_wn_efefef h-1px is-link _wn_title text-_wn_333 pt-40px px-20px "),p(D,{title:"我的",full:!0},{default:u((()=>[h("div",{bg:"#efefef","h-1px":"",class:"bg-_wn_efefef h-1px"}),p(k,null,{default:u((()=>[f(i)?(c(),r(s,{key:0,"is-link":"",onClick:n[0]||(n[0]=t=>d("changePassword")),class:"is-link"},{title:u((()=>[h("div",{text:"#333",class:"text-_wn_333"},"修改密码")])),_:1})):g("v-if",!0),p(s,{"is-link":"",onClick:n[1]||(n[1]=t=>d("privacyPolicy")),class:"is-link"},{title:u((()=>[h("div",{text:"#333",class:"text-_wn_333"},"隐私政策")])),_:1}),p(s,{"is-link":"",onClick:n[2]||(n[2]=t=>d("aboutUs")),class:"is-link"},{title:u((()=>[h("div",{text:"#333",class:"text-_wn_333"},"关于我们")])),_:1}),p(s,{"is-link":"",onClick:n[3]||(n[3]=t=>{var o;null==(o=b.value)||o.showToast.fail("仅APP支持此操作",{duration:800})}),class:"is-link"},{title:u((()=>[h("div",{text:"#333",class:"text-_wn_333"},"增加一条推送")])),_:1}),f(i)?(c(),r(s,{key:1},{title:u((()=>[h("div",{text:"#333",onClick:n[4]||(n[4]=t=>a.value=!0),class:"text-_wn_333"},"注销账户")])),_:1})):g("v-if",!0)])),_:1}),f(a)?(c(),r(B,{key:0,visible:f(a),"onUpdate:visible":n[5]||(n[5]=t=>m(a)?a.value=t:null),title:"提示",content:"账号注销后权限和所有记录将全部删除，无法恢复，请谨慎操作。",onCancel:v,onOk:O},null,8,["visible"])):g("v-if",!0),h("div",{"pt-40px":"","px-20px":"",class:"pt-40px px-20px"},[f(i)?(c(),r(j,{key:0,style:{width:"100%"},type:"primary",onClick:A},{default:u((()=>[x(" 退出登录-"+C(f(i))+"- ",1)])),_:1})):g("v-if",!0),f(i)?g("v-if",!0):(c(),r(j,{key:1,style:{width:"100%"},type:"primary",onClick:A},{default:u((()=>[x(" 登录-"+C(f(i))+"- ",1)])),_:1}))]),p(S,{ref_key:"toastRef",ref:b},null,512)])),_:1})],2112)}}}),[["__scopeId","data-v-b610eadc"]]);export{tt as default};
