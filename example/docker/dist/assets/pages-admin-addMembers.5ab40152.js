import{_ as e}from"./LayoutDefault.42450bc0.js";import{_ as t}from"./Black.5562f5e4.js";import{_ as s}from"./input.ea4d2faf.js";import{D as l,j as a,k as r,o,p as u,q as n,b as p,w as i,F as m,s as d,u as x,M as _,f as c,l as f,m as w,N as g}from"./index-7ef9e5b0.js";import{_ as h,a as E}from"./form.5d4c2419.js";import{n as v}from"./index.5059ae5b.js";import{i as b,a as j}from"./index.ca928f2d.js";import{u as k}from"./pinia-auto-refs.64a97d29.js";import{_ as F}from"./_plugin-vue_export-helper.1b428a4d.js";import"./router.34791702.js";import"./urlMap.3d32d270.js";import"./icon.4e54a3b5.js";import"./cellgroup.c0f39baa.js";import"./request.55a7bd8a.js";const q=F({__name:"addMembers",setup(F){const{lockInfo:q}=k("root"),y=l({name:"",tel:"",userPws:""}),V=a(null),P=()=>{V.value.validate().then((({valid:e,errors:t})=>{e?(console.log("success",y),v({lockId:q.value.id,userName:y.name,phoneNumber:y.tel,userPws:y.userPws,userType:1}).then((()=>{uni.showToast({title:"添加成功",icon:"success"}),uni.$emit("updateMemberList"),uni.navigateBack({delta:1})})).catch((e=>{console.log("err====",e)}))):console.log("error submit!!",t)}))};function B(){}return r((()=>{})),(l,a)=>{const r=t,v=f(w("nut-input"),s),k=f(w("nut-form-item"),h),F=f(w("nut-form"),E),q=g,A=e;return o(),u(m,null,[n(" _wn_left color-_wn_262727 bg-_wn_EFEFEF h-100vh h-1px nut-input-text required _wn_right flex text-_wn_E2E2E2 text-_wn_14a83b pl-10px text-12px text-_wn_666 mt-40px w-90_pes_ h-40px bg-_wn_14A83B color-_wn_fff text-16px "),p(A,{title:"添加成员",full:!0,background:"#fefefe"},{left:i((()=>[p(r,{color:"#262727",class:"color-_wn_262727"})])),default:i((()=>[d("div",{bg:"#EFEFEF",h:"100vh",class:"bg-_wn_EFEFEF h-100vh"},[d("div",{"h-1px":"",class:"h-1px"}),p(F,{ref_key:"ruleForm",ref:V,"model-value":x(y),rules:{name:[{required:!0,message:"请填写姓名"}]}},{default:i((()=>[p(k,{label:"用户姓名",prop:"name"},{default:i((()=>[p(v,{modelValue:x(y).name,"onUpdate:modelValue":a[0]||(a[0]=e=>x(y).name=e),class:"nut-input-text",placeholder:"请输入姓名",type:"text"},null,8,["modelValue"])])),_:1}),p(k,{label:"手机号码",prop:"tel",required:"",rules:[{required:!0,message:"请填写联系电话"},{regex:/^\d+$/,message:"必须输入数字"},{regex:/^(?:(?:\+|00)86)?1\d{10}$/,message:"请输入正确的手机号"}],class:"required"},{default:i((()=>[p(v,{modelValue:x(y).tel,"onUpdate:modelValue":a[1]||(a[1]=e=>x(y).tel=e),class:"nut-input-text",placeholder:"请输入11位手机号码","max-length":"11",type:"text"},_({_:2},[x(b)()?{name:"right",fn:i((()=>[d("div",{flex:"",class:"flex"},[d("div",{text:"#E2E2E2",class:"text-_wn_E2E2E2"},"|"),d("div",{text:"#14a83b","pl-10px":"",onClick:B,class:"text-_wn_14a83b pl-10px"},"通讯录")])])),key:"0"}:void 0,x(j)()?{name:"right",fn:i((()=>[d("div",{text:"#E2E2E2",class:"text-_wn_E2E2E2"},"|"),d("div",{text:"#14a83b","pl-10px":"",onClick:B,class:"text-_wn_14a83b pl-10px"},"通讯录")])),key:"1"}:void 0]),1032,["modelValue"])])),_:1},8,["rules"]),p(k,{label:"设置密码",prop:"userPws",required:"",rules:[{required:!0,message:"请填写密码"},{message:"密码需要不少于6位",regex:/^.{6,}$/},{message:"密码需要包含大小写字母及数字",regex:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).+$/}],class:"required"},{default:i((()=>[p(v,{modelValue:x(y).userPws,"onUpdate:modelValue":a[2]||(a[2]=e=>x(y).userPws=e),class:"nut-input-text",placeholder:"请输入密码",type:"password"},null,8,["modelValue"])])),_:1},8,["rules"])])),_:1},8,["model-value"]),d("div",{text:"12px #666","pl-10px":"",class:"text-12px text-_wn_666 pl-10px"},"密码需要包含大小写字母及数字"),p(q,{"mt-40px":"",w:"90%","h-40px":"",bg:"#14A83B",color:"#fff",text:"16px",rounded:"20px",onClick:P,class:"mt-40px w-90_pes_ h-40px bg-_wn_14A83B color-_wn_fff text-16px"},{default:i((()=>[c(" 添加成员 ")])),_:1})])])),_:1})],2112)}}},[["__scopeId","data-v-17398978"]]);export{q as default};
