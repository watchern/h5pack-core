import{_ as e}from"./LayoutDefault.d26a134f.js";import{_ as t}from"./Black.b78a5e9b.js";import{_ as o}from"./input.22b40e50.js";import{j as a,D as s,J as l,k as r,o as n,p as u,q as i,b as p,w as m,F as d,s as c,u as _,f,l as x,m as h}from"./index-1ce5008d.js";import{_ as g,a as b}from"./form.66fc47e4.js";import{_ as v,a as j}from"./cellgroup.337209aa.js";import{_ as k}from"./button.bcf26005.js";import{_ as w}from"./swipe.ad4989b0.js";import{o as N,i as y}from"./index.30070924.js";import{r as F}from"./router.a71bc990.js";import{u as E}from"./pinia-auto-refs.0a4d1dcc.js";import{_ as q}from"./_plugin-vue_export-helper.1b428a4d.js";import"./index.243deaf5.js";import"./urlMap.3d32d270.js";import"./icon.219c12b7.js";import"./useTouch.4b965ed5.js";import"./request.9efe9454.js";const V=q({__name:"adminDetail",setup(q){const{userInfo:V,setUserInfo:I}=E("root"),D=a(""),T=s({nickName:"",phoneNumber:""});l((e=>{D.value=e.result,console.log("query",e),T.nickName=e.nickName,T.phoneNumber=e.phoneNumber}));const C=a(null);const L=()=>{C.value.validate().then((({valid:e,errors:t})=>{e?N({userId:V.value.userId,nickName:T.nickName}).then((e=>{console.log("res===",e),y().then((e=>{I({...e.user,permissions:e.permissions,roles:e.roles}),uni.showToast({title:"保存成功",icon:"success"}),F()})).catch((e=>{console.log("err====",e)}))})).catch((e=>{console.log("err====",e)})):console.log("error submit!!",t)}))};return r((()=>{uni.$on("add",(function(){console.log("1111111111",1111111111)}))})),(a,s)=>{const l=t,r=x(h("nut-input"),o),N=x(h("nut-form-item"),g),y=x(h("nut-form"),b),F=x(h("nut-cell"),v),E=x(h("nut-button"),k),q=x(h("nut-swipe"),w),V=x(h("nut-cell-group"),j),I=e;return n(),u(d,null,[i(" _wn_left color-_wn_262727 _wn_right text-_wn_14a83b text-14px pr-20px bg-_wn_EFEFEF h-100vh h-1px nut-input-text readonly mt-10px pl-10px font-bold "),p(I,{title:"管理员详情",full:!0,background:"#fefefe"},{left:m((()=>[p(l,{color:"#262727",class:"color-_wn_262727"})])),right:m((()=>[c("div",{text:"#14a83b 14px","pr-20px":"",onClick:L,class:"text-_wn_14a83b text-14px pr-20px"},"保存")])),default:m((()=>[c("div",{bg:"#EFEFEF",h:"100vh",class:"bg-_wn_EFEFEF h-100vh"},[c("div",{"h-1px":"",class:"h-1px"}),c("div",null,[p(y,{ref_key:"ruleForm",ref:C,"model-value":_(T),rules:{nickName:[{required:!0,message:"请填写姓名"}]}},{default:m((()=>[p(N,{label:"管理员姓名",prop:"nickName"},{default:m((()=>[p(r,{modelValue:_(T).nickName,"onUpdate:modelValue":s[0]||(s[0]=e=>_(T).nickName=e),class:"nut-input-text",placeholder:"请输入姓名",type:"text"},null,8,["modelValue"])])),_:1}),p(r,{modelValue:_(T).phoneNumber,"onUpdate:modelValue":s[1]||(s[1]=e=>_(T).phoneNumber=e),class:"nut-input-text readonly",placeholder:"请输入11位手机号码",type:"text",readonly:""},null,8,["modelValue"])])),_:1},8,["model-value"]),c("div",{"mt-10px":"",class:"mt-10px"},[c("div",{text:"14px","pl-10px":"","font-bold":"",class:"text-14px pl-10px font-bold"},"密码设置"),p(V,null,{default:m((()=>[p(F,{"round-radius":"0",onClick:s[2]||(s[2]=e=>{uni.navigateTo({url:"/pages/admin/setLockPassword"})})},{default:m((()=>[c("div",{text:"#14a83b",class:"text-_wn_14a83b"},"设置开锁密码")])),_:1}),p(F,{"round-radius":"0",onClick:s[3]||(s[3]=e=>{uni.navigateTo({url:"/pages/admin/addFinger"})})},{default:m((()=>[c("div",{text:"#14a83b",class:"text-_wn_14a83b"},"添加指纹")])),_:1}),p(q,null,{right:m((()=>[p(E,{shape:"square",style:{height:"100%"},type:"danger"},{default:m((()=>[f(" 删除 ")])),_:1})])),default:m((()=>[p(F,{"round-radius":"0",title:"指纹一"})])),_:1}),p(q,null,{right:m((()=>[p(E,{shape:"square",style:{height:"100%"},type:"danger"},{default:m((()=>[f(" 删除 ")])),_:1})])),default:m((()=>[p(F,{"round-radius":"0",title:"指纹二"})])),_:1})])),_:1})])])])])),_:1})],2112)}}},[["__scopeId","data-v-7c029983"]]);export{V as default};
