import{d as e,E as t,O as o,j as a,c as s,A as n,P as l,o as i,a as u,w as r,b as c,e as v,u as d,r as g,q as f,f as m,t as p,g as y,h as b,B as x}from"./index-1ce5008d.js";import{c as C,m as _,b as z,a as O,U as k,d as S,j,e as w,k as h,g as A,l as B,p as I,_ as T,P as R}from"./icon.219c12b7.js";import{N as $}from"./transition.2d1cecda.js";import{_ as P}from"./_plugin-vue_export-helper.1b428a4d.js";const F={visible:!1,type:"text",msg:"",duration:2e3,size:"base",zIndex:50,iconSize:"20px",center:!0,bottom:"30px",textAlignCenter:!0,loadingRotate:!0},N={...C,visible:{type:Boolean,default:F.visible},selector:String,type:_(F.type),title:String,msg:_(F.msg),duration:z(F.duration),size:_(F.size),zIndex:z(F.zIndex),icon:String,iconSize:O(F.iconSize),bgColor:String,cover:Boolean,coverColor:String,center:{type:Boolean,default:F.center},bottom:O(F.bottom),textAlignCenter:{type:Boolean,default:F.textAlignCenter},loadingRotate:{type:Boolean,default:F.loadingRotate},closeOnClickOverlay:Boolean,onClose:Function,onClosed:Function},q={[k]:e=>S(e),[j]:()=>!0,[w]:()=>!0},E=`${R}-toast`,G=e({name:E,options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),H=P(e({...G,props:N,emits:q,setup(e,{expose:C,emit:_}){const z=e,O=t(),S=`__TOAST_OPTIONS__${z.selector||""}`,R=o(S,a(h(F))),P={text:"",success:"success",error:"failure",warning:"tips",loading:"loading"},N=a(!1),q=a(h(z)),G=s((()=>{const{icon:e,type:t}=q.value;return e||P[t]})),H=s((()=>Boolean(G.value))),L=s((()=>{const{size:e,cover:t,center:o,type:a,loadingRotate:s}=q.value;return A(z,E,{[`nut-toast-${e}`]:!0,"nut-toast-cover":t,"nut-toast-center":o,"nut-toast-loading":"loading"===a,"nut-toast-loading-rotate":s,"nut-toast-has-icon":H.value})})),U=s((()=>B(z,{zIndex:q.value.zIndex}))),D=s((()=>{const e={},{cover:t,coverColor:o,center:a,bottom:s}=q.value;return t?e.backgroundColor=o:a||(e.bottom=I(s)),e})),J=s((()=>{const{textAlignCenter:e,bgColor:t,cover:o,center:a,bottom:s}=q.value,n={textAlign:e?"center":"left",backgroundColor:t};return o&&(a||(n.bottom=I(s))),n}));let K=0;function M(){0!==K&&(clearTimeout(K),K=0)}function Q(e,t,o){M(),q.value=Object.assign(h(F),{visible:!0,type:e,msg:t},o),N.value=!0,q.value.duration>0&&(K=setTimeout((()=>{ee()}),q.value.duration))}function V(e,t){Q("text",e,t)}function W(e,t){Q("success",e,t)}function X(e,t){Q("error",e,t)}function Y(e,t){Q("warning",e,t)}function Z(e,t){Q("loading",e,Object.assign({duration:0,cover:!0},t))}function ee(){M(),N.value=!1,q.value.visible=!1,_(k,!1),_(j),q.value.onClose&&q.value.onClose()}function te(){_(w),q.value.onClosed&&q.value.onClosed()}function oe(){q.value.closeOnClickOverlay&&ee()}return n((()=>z),(e=>{q.value=Object.assign(h(F),e),e.visible?Q(q.value.type,q.value.msg,q.value):ee()}),{deep:!0}),n(R,(e=>{q.value=Object.assign(h(F),e),e.visible?Q(q.value.type,q.value.msg,q.value):ee()})),l((()=>{M()})),C({showToast:{text:V,success:W,fail:X,warn:Y,loading:Z},hideToast:ee,text:V,success:W,error:X,warning:Y,loading:Z,hide:ee}),(e,t)=>{const o=y,a=b,s=x;return i(),u($,{"custom-class":d(L),"custom-style":d(U),show:N.value,name:"fade",onAfterLeave:te},{default:r((()=>[c(o,{class:"nut-toast-wrapper",style:v(d(D)),onClick:oe},{default:r((()=>[d(O).default?g(e.$slots,"default",{key:0},void 0,!0):(i(),u(o,{key:1,class:"nut-toast-inner",style:v(d(J))},{default:r((()=>[d(H)?(i(),u(o,{key:0,class:"nut-toast-icon-wrapper"},{default:r((()=>[c(T,{name:d(G),size:q.value.iconSize,"custom-color":"#ffffff"},null,8,["name","size"])])),_:1})):f("v-if",!0),q.value.title?(i(),u(a,{key:1,class:"nut-toast-title"},{default:r((()=>[m(p(q.value.title),1)])),_:1})):f("v-if",!0),q.value.msg?(i(),u(s,{key:2,class:"nut-toast-text",nodes:q.value.msg},null,8,["nodes"])):f("v-if",!0)])),_:1},8,["style"]))])),_:3},8,["style"])])),_:3},8,["custom-class","custom-style","show"])}}}),[["__scopeId","data-v-a332c596"]]);export{H as _};
