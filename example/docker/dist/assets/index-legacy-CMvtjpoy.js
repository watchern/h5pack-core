System.register(["./index-legacy-Ds6jqhDN.js","./index-legacy-Doi-UaQH.js","./index-legacy-GgXAxKc3.js","./index-legacy-CJvnpqv-.js","./route-block-legacy-wdPIt6g0.js"],(function(e,t){"use strict";var l,o,n,i,a,u,s,c,r,d,v,m,p,f,h,g,b,x,k,y,w,C,V,O,H,S,T,I,D,B,N,M,j,$,P,z,_,E,A,U,F,L,G,q,J,K,Q,R,Y,W,X;return{setters:[e=>{l=e.c,o=e.e,n=e.i,i=e.a,a=e.d,u=e.m,s=e.b,c=e.n,r=e.r,d=e.u,v=e.f,m=e.g,p=e.h,f=e.w,h=e.j,g=e.k,b=e.p,x=e.H,k=e.t,y=e.l,w=e.o,C=e.q,V=e.s,O=e.v,H=e.x,S=e.y,T=e.z,I=e.B,D=e.A,B=e.C,N=e.D,M=e.E,j=e.F,$=e.G,P=e.I,z=e.J,_=e.K,E=e.L,A=e.M,U=e.N,F=e.O,L=e.P,G=e.Q,q=e.R,J=e.S,K=e.T,Q=e.U},e=>{R=e.C},e=>{Y=e.C},e=>{W=e.L},e=>{X=e.b}],execute:function(){const[t,Z,ee]=l("picker"),te=e=>e.find((e=>!e.disabled))||e[0];function le(e,t){for(let l=t=i(t,0,e.length);l<e.length;l++)if(!e[l].disabled)return l;for(let l=t-1;l>=0;l--)if(!e[l].disabled)return l;return 0}const oe=(e,t,l)=>void 0!==t&&e.some((e=>e[l.value]===t));function ne(e,t,l){const o=e.findIndex((e=>e[l.value]===t));return e[le(e,o)]}const[ie,ae]=l("picker-column"),ue=Symbol(ie);var se=a({name:ie,props:{value:c,fields:u(Object),options:s(),readonly:Boolean,allowHtml:Boolean,optionHeight:u(Number),swipeDuration:u(c),visibleOptionNum:u(c)},emits:["change","clickOption","scrollInto"],setup(e,{emit:t,slots:l}){let o,n,a,u,s;const c=r(),x=r(),k=r(0),y=r(0),w=d(),C=()=>e.options.length,V=()=>e.optionHeight*(+e.visibleOptionNum-1)/2,O=l=>{let n=le(e.options,l);const i=-n*e.optionHeight,a=()=>{n>C()-1&&(n=le(e.options,l));const o=e.options[n][e.fields.value];o!==e.value&&t("change",o)};o&&i!==k.value?s=a:a(),k.value=i},H=()=>e.readonly||!e.options.length,S=t=>i(Math.round(-t/e.optionHeight),0,C()-1),T=v((()=>S(k.value))),I=()=>{o=!1,y.value=0,s&&(s(),s=null)},D=e=>{if(!H()){if(w.start(e),o){const e=function(e){const{transform:t}=window.getComputedStyle(e),l=t.slice(7,t.length-1).split(", ")[5];return Number(l)}(x.value);k.value=Math.min(0,e-V())}y.value=0,n=k.value,a=Date.now(),u=n,s=null}},B=()=>{if(H())return;const t=k.value-u,l=Date.now()-a;if(l<300&&Math.abs(t)>15)return void((t,l)=>{const o=Math.abs(t/l);t=k.value+o/.003*(t<0?-1:1);const n=S(t);y.value=+e.swipeDuration,O(n)})(t,l);const n=S(k.value);y.value=200,O(n),setTimeout((()=>{o=!1}),0)},N=()=>{const n={height:`${e.optionHeight}px`};return e.options.map(((i,a)=>{const u=i[e.fields.text],{disabled:c}=i,r=i[e.fields.value],d={role:"button",style:n,tabindex:c?-1:0,class:[ae("item",{disabled:c,selected:r===e.value}),i.className],onClick:()=>(l=>{o||H()||(s=null,y.value=200,O(l),t("clickOption",e.options[l]))})(a)},v={class:"van-ellipsis",[e.allowHtml?"innerHTML":"textContent"]:u};return g("li",d,[l.option?l.option(i,a):g("div",v,null)])}))};return m(ue),p({stopMomentum:I}),f((()=>{const t=o?Math.floor(-k.value/e.optionHeight):e.options.findIndex((t=>t[e.fields.value]===e.value)),l=le(e.options,t),n=-l*e.optionHeight;o&&l<t&&I(),k.value=n})),h("touchmove",(l=>{if(H())return;w.move(l),w.isVertical()&&(o=!0,b(l,!0));const s=i(n+w.deltaY.value,-C()*e.optionHeight,e.optionHeight),c=S(s);c!==T.value&&t("scrollInto",e.options[c]),k.value=s;const r=Date.now();r-a>300&&(a=r,u=s)}),{target:c}),()=>g("div",{ref:c,class:ae(),onTouchstartPassive:D,onTouchend:B,onTouchcancel:B},[g("ul",{ref:x,style:{transform:`translate3d(0, ${k.value+V()}px, 0)`,transitionDuration:`${y.value}ms`,transitionProperty:y.value?"all":"none"},class:ae("wrapper"),onTransitionend:I},[N()])])}});const[ce]=l("picker-toolbar"),re={title:String,cancelButtonText:String,confirmButtonText:String},de=["cancel","confirm","title","toolbar"],ve=Object.keys(re);var me=a({name:ce,props:re,emits:["confirm","cancel"],setup(e,{emit:t,slots:l}){const o=()=>t("cancel"),n=()=>t("confirm"),i=()=>{var t;const n=null!=(t=e.cancelButtonText)?t:ee("cancel");if(l.cancel||n)return g("button",{type:"button",class:[Z("cancel"),x],onClick:o},[l.cancel?l.cancel():n])},a=()=>{var t;const o=null!=(t=e.confirmButtonText)?t:ee("confirm");if(l.confirm||o)return g("button",{type:"button",class:[Z("confirm"),x],onClick:n},[l.confirm?l.confirm():o])};return()=>g("div",{class:Z("toolbar")},[l.toolbar?l.toolbar():[i(),l.title?l.title():e.title?g("div",{class:[Z("title"),"van-ellipsis"]},[e.title]):void 0,a()]])}});const[pe,fe]=l("picker-group"),he=Symbol(pe);o({tabs:s(),activeTab:y(0),nextStepText:String,showToolbar:k},re);const ge=o({loading:Boolean,readonly:Boolean,allowHtml:Boolean,optionHeight:y(44),showToolbar:k,swipeDuration:y(1e3),visibleOptionNum:y(6)},re),be=o({},ge,{columns:s(),modelValue:s(),toolbarPosition:T("top"),columnsFieldNames:Object});var xe=a({name:t,props:be,emits:["confirm","cancel","change","scrollInto","clickOption","update:modelValue"],setup(e,{emit:t,slots:l}){const i=r(),a=r(e.modelValue.slice(0)),{parent:u}=m(he),{children:s,linkChildren:c}=w(ue);c();const d=v((()=>function(e){return o({text:"text",value:"value",children:"children"},e)}(e.columnsFieldNames))),f=v((()=>C(e.optionHeight))),x=v((()=>function(e,t){const l=e[0];if(l){if(Array.isArray(l))return"multiple";if(t.children in l)return"cascade"}return"default"}(e.columns,d.value))),k=v((()=>{const{columns:t}=e;switch(x.value){case"multiple":return t;case"cascade":return function(e,t,l){const o=[];let i={[t.children]:e},a=0;for(;i&&i[t.children];){const e=i[t.children],u=l.value[a];i=n(u)?ne(e,u,t):void 0,!i&&e.length&&(i=ne(e,te(e)[t.value],t)),a++,o.push(e)}return o}(t,d.value,a);default:return[t]}})),y=v((()=>k.value.some((e=>e.length)))),T=v((()=>k.value.map(((e,t)=>ne(e,a.value[t],d.value))))),B=v((()=>k.value.map(((e,t)=>e.findIndex((e=>e[d.value.value]===a.value[t])))))),N=(e,t)=>{if(a.value[e]!==t){const l=a.value.slice(0);l[e]=t,a.value=l}},M=()=>({selectedValues:a.value.slice(0),selectedOptions:T.value,selectedIndexes:B.value}),j=()=>{s.forEach((e=>e.stopMomentum()));const e=M();return O((()=>{const e=M();t("confirm",e)})),e},$=()=>t("cancel",M()),P=()=>k.value.map(((n,i)=>g(se,{value:a.value[i],fields:d.value,options:n,readonly:e.readonly,allowHtml:e.allowHtml,optionHeight:f.value,swipeDuration:e.swipeDuration,visibleOptionNum:e.visibleOptionNum,onChange:e=>((e,l)=>{N(l,e),"cascade"===x.value&&a.value.forEach(((e,t)=>{const l=k.value[t];oe(l,e,d.value)||N(t,l.length?l[0][d.value.value]:void 0)})),O((()=>{t("change",o({columnIndex:l},M()))}))})(e,i),onClickOption:e=>((e,l)=>{const n={columnIndex:l,currentOption:e};t("clickOption",o(M(),n)),t("scrollInto",n)})(e,i),onScrollInto:e=>{t("scrollInto",{currentOption:e,columnIndex:i})}},{option:l.option}))),z=e=>{if(y.value){const t={height:`${f.value}px`},l={backgroundSize:`100% ${(e-f.value)/2}px`};return[g("div",{class:Z("mask"),style:l},null),g("div",{class:[I,Z("frame")],style:t},null)]}},_=()=>{const t=f.value*+e.visibleOptionNum,o={height:`${t}px`};return e.loading||y.value||!l.empty?g("div",{ref:i,class:Z("columns"),style:o},[P(),z(t)]):l.empty()},E=()=>{if(e.showToolbar&&!u)return g(me,S(H(e,ve),{onConfirm:j,onCancel:$}),H(l,de))};let A;return V(k,(e=>{e.forEach(((e,t)=>{e.length&&!oe(e,a.value[t],d.value)&&N(t,te(e)[d.value.value])}))}),{immediate:!0}),V((()=>e.modelValue),(e=>{D(e,a.value)||D(e,A)||(a.value=e.slice(0),A=e.slice(0))}),{deep:!0}),V(a,(l=>{D(l,e.modelValue)||(A=l.slice(0),t("update:modelValue",A))}),{immediate:!0}),h("touchmove",b,{target:i}),p({confirm:j,getSelectedOptions:()=>T.value}),()=>{var t,o;return g("div",{class:Z()},["top"===e.toolbarPosition?E():null,e.loading?g(W,{class:Z("loading")},null):null,null==(t=l["columns-top"])?void 0:t.call(l),_(),null==(o=l["columns-bottom"])?void 0:o.call(l),"bottom"===e.toolbarPosition?E():null])}}});const ke=B(xe),[ye,we]=l("switch"),Ce={size:c,loading:Boolean,disabled:Boolean,modelValue:N,activeColor:String,inactiveColor:String,activeValue:{type:N,default:!0},inactiveValue:{type:N,default:!1}};var Ve=a({name:ye,props:Ce,emits:["change","update:modelValue"],setup(e,{emit:t,slots:l}){const o=()=>e.modelValue===e.activeValue,n=()=>{if(!e.disabled&&!e.loading){const l=o()?e.inactiveValue:e.activeValue;t("update:modelValue",l),t("change",l)}},i=()=>{if(e.loading){const t=o()?e.activeColor:e.inactiveColor;return g(W,{class:we("loading"),color:t},null)}if(l.node)return l.node()};return M((()=>e.modelValue)),()=>{var t;const{size:a,loading:u,disabled:s,activeColor:c,inactiveColor:r}=e,d=o(),v={fontSize:j(a),backgroundColor:d?c:r};return g("div",{role:"switch",class:we({on:d,loading:u,disabled:s}),style:v,tabindex:s?void 0:0,"aria-checked":d,onClick:n},[g("div",{class:we("node")},[i()]),null==(t=l.background)?void 0:t.call(l)])}}});const Oe=B(Ve),He=e("default",a({__name:"index",setup(e){const{t:t}=$(),l=v({get:()=>P.value,set:()=>z()}),o=v((()=>[{title:t("menus.mockGuide"),route:"mock"},{title:t("menus.echartsDemo"),route:"charts"},{title:t("menus.unocssExample"),route:"unocss"},{title:t("menus.persistPiniaState"),route:"counter"},{title:t("menus.keepAlive"),route:"keepalive"},{title:t("menus.scrollCache"),route:"scroll-cache"},{title:t("menus.404Demo"),route:"unknown"}])),n=r(!1),i=r([_.value]),a=v((()=>E.find((e=>e.value===_.value)).text));function u(e){_.value=e.selectedOptions[0].value,n.value=!1}return(e,t)=>{const s=Oe,c=Y,r=R,d=ke,v=Q;return U(),A(q,null,[g(r,{title:e.$t("menus.basicSettings"),border:!1,inset:!0},{default:F((()=>[g(c,{center:"",title:e.$t("menus.darkMode")},{"right-icon":F((()=>[g(s,{modelValue:G(l),"onUpdate:modelValue":t[0]||(t[0]=e=>L(l)?l.value=e:null),size:"20px","aria-label":"on/off Dark Mode"},null,8,["modelValue"])])),_:1},8,["title"]),g(c,{"is-link":"",title:e.$t("menus.language"),value:G(a),onClick:t[1]||(t[1]=e=>n.value=!0)},null,8,["title","value"])])),_:1},8,["title"]),g(r,{title:e.$t("menus.exampleComponents"),border:!1,inset:!0},{default:F((()=>[(U(!0),A(q,null,J(G(o),(e=>(U(),K(c,{key:e.route,title:e.title,to:e.route,"is-link":""},null,8,["title","to"])))),128))])),_:1},8,["title"]),g(v,{show:G(n),"onUpdate:show":t[4]||(t[4]=e=>L(n)?n.value=e:null),position:"bottom"},{default:F((()=>[g(d,{modelValue:G(i),"onUpdate:modelValue":t[2]||(t[2]=e=>L(i)?i.value=e:null),columns:G(E),onConfirm:u,onCancel:t[3]||(t[3]=e=>n.value=!1)},null,8,["modelValue","columns"])])),_:1},8,["show"])],64)}}}));"function"==typeof X&&X(He)}}}));
