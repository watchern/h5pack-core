System.register(["./index-legacy-Cpltm_sD.js","./route-block-legacy-wdPIt6g0.js","./index-legacy-BoWN3LHS.js"],(function(e,t){"use strict";var n,o,l,i,s,a,r,c,d,u,f,p,v,x,h,g,m,y,b,T,w,k,C,j,H,S,z,M,_,L,A,B,$;return{setters:[e=>{n=e.av,o=e.d,l=e.t,i=e.z,s=e.l,a=e.c,r=e.r,c=e.aw,d=e.f,u=e.s,f=e.ax,p=e.W,v=e.h,x=e.j,h=e.k,g=e.A,m=e.ay,y=e.az,b=e.C,T=e.aA,w=e.aB,k=e.aC,C=e._,j=e.R,H=e.N,S=e.O,z=e.U,M=e.M,_=e.P,L=e.Q,A=e.a0},e=>{B=e.b},e=>{$=e.L}],execute:function(){const t=Symbol(),[P,E,N]=a("list"),O={error:Boolean,offset:s(300),loading:Boolean,disabled:Boolean,finished:Boolean,scroller:Object,errorText:String,direction:i("down"),loadingText:String,finishedText:String,immediateCheck:l};var U=o({name:P,props:O,emits:["load","update:error","update:loading"],setup(e,{emit:o,slots:l}){const i=r(e.loading),s=r(),a=r(),b=n(t,null),T=c(s),w=d((()=>e.scroller||T.value)),k=()=>{g((()=>{if(i.value||e.finished||e.disabled||e.error||!1===(null==b?void 0:b.value))return;const{direction:t}=e,n=+e.offset,l=m(w);if(!l.height||y(s))return;let r=!1;const c=m(a);r="up"===t?l.top-c.top<=n:c.bottom-l.bottom<=n,r&&(i.value=!0,o("update:loading",!0),o("load"))}))},C=()=>{if(e.finished){const t=l.finished?l.finished():e.finishedText;if(t)return h("div",{class:E("finished-text")},[t])}},j=()=>{o("update:error",!1),k()},H=()=>{if(e.error){const t=l.error?l.error():e.errorText;if(t)return h("div",{role:"button",class:E("error-text"),tabindex:0,onClick:j},[t])}},S=()=>{if(i.value&&!e.finished&&!e.disabled)return h("div",{class:E("loading")},[l.loading?l.loading():h($,{class:E("loading-icon")},{default:()=>[e.loadingText||N("loading")]})])};return u((()=>[e.loading,e.finished,e.error]),k),b&&u(b,(e=>{e&&k()})),f((()=>{i.value=e.loading})),p((()=>{e.immediateCheck&&k()})),v({check:k}),x("scroll",k,{target:w,passive:!0}),()=>{var t;const n=null==(t=l.default)?void 0:t.call(l),o=h("div",{ref:a,class:E("placeholder")},null);return h("div",{ref:s,role:"feed",class:E(),"aria-busy":i.value},["down"===e.direction?n:o,S(),C(),H(),"up"===e.direction?n:o])}}});const D=b(U),[I,Q]=a("text-ellipsis"),R={rows:s(1),dots:i("..."),content:i(""),expandText:i(""),collapseText:i(""),position:i("end")};var V=o({name:I,props:R,emits:["clickAction"],setup(e,{emit:t,slots:n}){const o=r(e.content),l=r(!1),i=r(!1),s=r(),a=r();let c=!1;const f=d((()=>l.value?e.collapseText:e.expandText)),x=e=>{if(!e)return 0;const t=e.match(/^\d*(\.\d*)?/);return t?Number(t[0]):0},m=()=>{const t=(()=>{if(!s.value||!s.value.isConnected)return;const t=window.getComputedStyle(s.value),n=document.createElement("div");return Array.prototype.slice.apply(t).forEach((e=>{n.style.setProperty(e,t.getPropertyValue(e))})),n.style.position="fixed",n.style.zIndex="-9999",n.style.top="-9999px",n.style.height="auto",n.style.minHeight="auto",n.style.maxHeight="auto",n.innerText=e.content,document.body.appendChild(n),n})();if(!t)return void(c=!0);const{paddingBottom:l,paddingTop:r,lineHeight:d}=t.style,u=Math.ceil((Number(e.rows)+.5)*x(d)+x(r)+x(l));u<t.offsetHeight?(i.value=!0,o.value=((t,o)=>{var l,i;const{content:s,position:r,dots:c}=e,d=s.length,u=0+d>>1,f=n.action?null!=(i=null==(l=a.value)?void 0:l.outerHTML)?i:"":e.expandText,p=(n,l)=>{if(n[1]-n[0]<=1&&l[1]-l[0]<=1)return s.slice(0,n[0])+c+s.slice(l[1],d);const i=Math.floor((n[0]+n[1])/2),a=Math.ceil((l[0]+l[1])/2);return t.innerText=e.content.slice(0,i)+e.dots+e.content.slice(a,d),t.innerHTML+=f,t.offsetHeight>=o?p([n[0],i],[a,l[1]]):p([i,n[1]],[l[0],a])};return"middle"===e.position?p([0,u],[u,d]):(()=>{const e=(n,l)=>{if(l-n<=1)return"end"===r?s.slice(0,n)+c:c+s.slice(l,d);const i=Math.round((n+l)/2);return t.innerText="end"===r?s.slice(0,i)+c:c+s.slice(i,d),t.innerHTML+=f,t.offsetHeight>o?"end"===r?e(n,i):e(i,l):"end"===r?e(i,l):e(n,i)};return e(0,d)})()})(t,u)):(i.value=!1,o.value=e.content),document.body.removeChild(t)},y=(e=!l.value)=>{l.value=e},b=e=>{y(),t("clickAction",e)},k=()=>{const e=n.action?n.action({expanded:l.value}):f.value;return h("span",{ref:a,class:Q("action"),onClick:b},[e])};return p((()=>{m(),n.action&&g(m)})),T((()=>{c&&(c=!1,m())})),u([w,()=>[e.content,e.rows,e.position]],m),v({toggle:y}),()=>h("div",{ref:s,class:Q()},[l.value?e.content:o.value,i.value?k():null])}});const W=b(V),Y=o({name:"ScrollCache",__name:"index",setup(e,{expose:t}){t();const n=r(!1),o=r(!1),l=r([]),i=r(0);T((()=>{window.scrollTo(0,i.value)})),k((()=>{i.value=window.scrollY||document.documentElement.scrollTop||document.body.scrollTop}));const s={loading:n,finished:o,list:l,onLoad:function(){setTimeout((()=>{for(let e=0;e<10;e++)l.value.push(`${l.value.length+1}`);n.value=!1,l.value.length>=40&&(o.value=!0)}),1e3)},scrollTop:i};return Object.defineProperty(s,"__isScriptSetup",{enumerable:!1,value:!0}),s}}),q={class:"space-y-10"},F={class:"shrink-0"},G={class:"rounded-full bg-gray-500/20 flex h-48 w-48 items-center justify-center overflow-hidden"},J={class:"text-[16px] text-zinc-600 tabular-nums dark:text-zinc-400"},K={class:"flex-1 min-w-0"},X={class:"mb-2 flex flex-row gap-1 w-full justify-between"},Z={class:"text-[16px] text-zinc-600 font-semibold tracking-tight w-1/2 dark:text-white"},ee={class:"text-[14px] text-zinc-500"};"function"==typeof B&&B(Y),e("default",C(Y,[["render",function(e,t,n,o,l,i){const s=W,a=D;return H(),j(a,{loading:o.loading,"onUpdate:loading":t[0]||(t[0]=e=>o.loading=e),finished:o.finished,"finished-text":e.$t("scrollCache.finished"),"loading-text":e.$t("scrollCache.loading"),onLoad:o.onLoad},{default:S((()=>[z("ul",q,[(H(!0),M(_,null,L(o.list,(n=>(H(),M("li",{key:n,class:"p-3 flex gap-12"},[z("div",F,[z("div",G,[z("span",J,A(n),1)])]),z("div",K,[z("div",X,[z("h3",Z,[h(s,{content:`${e.$t("scrollCache.sectionTitle")}`},null,8,["content"])]),t[1]||(t[1]=z("time",{class:"text-[12px] text-zinc-400 tabular-nums"},"2025-05-16",-1))]),z("p",ee,[h(s,{rows:2,content:e.$t("scrollCache.sectionText")},null,8,["content"])])])])))),128))])])),_:1},8,["loading","finished","finished-text","loading-text"])}],["__file","C:/Users/Administrator/Desktop/vue-crx/vue3-vant-mobile/src/pages/scroll-cache/index.vue"]]))}}}));
