import{d as w,t as v,c as T,r as $,aJ as Q,o as J,k as o,C as O,e as h,aK as Y,g as j,f as x,h as q,aL as X,a3 as Z,aM as ee,y as K,x as te,F as ne,U as oe,aN as ae,z as le,D as se,n as re,aO as D,ab as ce,aP as ie,aw as ue,aQ as de,aR as fe,ap as me,aS as Be,aT as ge,G as he,a2 as Ce,M as be,N as E,W as ve,O as we,T as ye,am as _e,Q as A,a1 as I,an as ke,ah as pe}from"./index-B-i8mpT1.js";import{C as xe}from"./index--wYSfSVI.js";import{C as Se}from"./index-Bx13dV0x.js";import{B as S}from"./index-C57wJuFW.js";import{b as N}from"./route-block-B_A1xBdJ.js";import"./index-BjjgmjDd.js";const[H,R]=T("action-bar"),L=Symbol(H),Pe={placeholder:Boolean,safeAreaInsetBottom:v};var Te=w({name:H,props:Pe,setup(e,{slots:a}){const n=$(),l=Q(n,R),{linkChildren:s}=J(L);s();const u=()=>{var d;return o("div",{ref:n,class:[R(),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[(d=a.default)==null?void 0:d.call(a)])};return()=>e.placeholder?l(u):u()}});const Oe=O(Te),[De,Ee]=T("action-bar-button"),Ae=h({},X,{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean});var Ie=w({name:De,props:Ae,setup(e,{slots:a}){const n=Y(),{parent:l,index:s}=j(L),u=x(()=>{if(l){const r=l.children[s.value-1];return!(r&&"isButton"in r)}}),d=x(()=>{if(l){const r=l.children[s.value+1];return!(r&&"isButton"in r)}});return q({isButton:!0}),()=>{const{type:r,icon:B,text:g,color:y,loading:_,disabled:k}=e;return o(S,{class:Ee([r,{last:d.value,first:u.value}]),size:"large",type:r,icon:B,color:y,loading:_,disabled:k,onClick:n},{default:()=>[a.default?a.default():g]})}}});const F=O(Ie),[Ne,i,b]=T("dialog"),Re=h({},ae,{title:String,theme:String,width:re,message:[String,Function],callback:Function,allowHtml:Boolean,className:se,transition:le("van-dialog-bounce"),messageAlign:String,closeOnPopstate:v,showCancelButton:Boolean,cancelButtonText:String,cancelButtonColor:String,cancelButtonDisabled:Boolean,confirmButtonText:String,confirmButtonColor:String,confirmButtonDisabled:Boolean,showConfirmButton:v,closeOnClickOverlay:Boolean,keyboardEnabled:v,destroyOnClose:Boolean}),Fe=[...ie,"transition","closeOnPopstate","destroyOnClose"];var U=w({name:Ne,props:Re,emits:["confirm","cancel","keydown","update:show"],setup(e,{emit:a,slots:n}){const l=$(),s=Z({confirm:!1,cancel:!1}),u=t=>a("update:show",t),d=t=>{var c;u(!1),(c=e.callback)==null||c.call(e,t)},r=t=>()=>{e.show&&(a(t),e.beforeClose?(s[t]=!0,ce(e.beforeClose,{args:[t],done(){d(t),s[t]=!1},canceled(){s[t]=!1}})):d(t))},B=r("cancel"),g=r("confirm"),y=ee(t=>{var c,f;if(!e.keyboardEnabled||t.target!==((f=(c=l.value)==null?void 0:c.popupRef)==null?void 0:f.value))return;({Enter:e.showConfirmButton?g:D,Escape:e.showCancelButton?B:D})[t.key](),a("keydown",t)},["enter","esc"]),_=()=>{const t=n.title?n.title():e.title;if(t)return o("div",{class:i("header",{isolated:!e.message&&!n.default})},[t])},k=t=>{const{message:c,allowHtml:f,messageAlign:m}=e,C=i("message",{"has-title":t,[m]:m}),p=ue(c)?c():c;return f&&typeof p=="string"?o("div",{class:C,innerHTML:p},null):o("div",{class:C},[p])},z=()=>{if(n.default)return o("div",{class:i("content")},[n.default()]);const{title:t,message:c,allowHtml:f}=e;if(c){const m=!!(t||n.title);return o("div",{key:f?1:0,class:i("content",{isolated:!m})},[k(m)])}},M=()=>o("div",{class:[fe,i("footer")]},[e.showCancelButton&&o(S,{size:"large",text:e.cancelButtonText||b("cancel"),class:i("cancel"),style:{color:e.cancelButtonColor},loading:s.cancel,disabled:e.cancelButtonDisabled,onClick:B},null),e.showConfirmButton&&o(S,{size:"large",text:e.confirmButtonText||b("confirm"),class:[i("confirm"),{[de]:e.showCancelButton}],style:{color:e.confirmButtonColor},loading:s.confirm,disabled:e.confirmButtonDisabled,onClick:g},null)]),G=()=>o(Oe,{class:i("footer")},{default:()=>[e.showCancelButton&&o(F,{type:"warning",text:e.cancelButtonText||b("cancel"),class:i("cancel"),color:e.cancelButtonColor,loading:s.cancel,disabled:e.cancelButtonDisabled,onClick:B},null),e.showConfirmButton&&o(F,{type:"danger",text:e.confirmButtonText||b("confirm"),class:i("confirm"),color:e.confirmButtonColor,loading:s.confirm,disabled:e.confirmButtonDisabled,onClick:g},null)]}),W=()=>n.footer?n.footer():e.theme==="round-button"?G():M();return()=>{const{width:t,title:c,theme:f,message:m,className:C}=e;return o(oe,K({ref:l,role:"dialog",class:[i([f]),C],style:{width:ne(t)},tabindex:0,"aria-labelledby":c||m,onKeydown:y,"onUpdate:show":u},te(e,Fe)),{default:()=>[_(),z(),W()]})}}});let P;const $e={title:"",width:"",theme:null,message:"",overlay:!0,callback:null,teleport:"body",className:"",allowHtml:!1,lockScroll:!0,transition:void 0,beforeClose:null,overlayClass:"",overlayStyle:void 0,messageAlign:"",cancelButtonText:"",cancelButtonColor:null,cancelButtonDisabled:!1,confirmButtonText:"",confirmButtonColor:null,confirmButtonDisabled:!1,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1,destroyOnClose:!1};let Ke=h({},$e);function He(){({instance:P}=Be({setup(){const{state:a,toggle:n}=ge();return()=>o(U,K(a,{"onUpdate:show":n}),null)}}))}function Le(e){return me?new Promise((a,n)=>{P||He(),P.open(h({},Ke,e,{callback:l=>{(l==="confirm"?a:n)(l)}}))}):Promise.resolve(void 0)}const Ue=e=>Le(h({showCancelButton:!0},e));O(U);const Ve="3.10.2",ze={class:"text-center"},Me={class:"text-gray mt-10"},V=w({__name:"index",setup(e){const{t:a}=he(),n=Ce(),l=x(()=>n.userInfo);function s(){Ue({title:a("settings.comfirmTitle")}).then(()=>{n.logout(),ke.push({name:"home"})}).catch(()=>{})}return(u,d)=>{const r=Se,B=xe;return E(),be("div",ze,[o(B,{inset:!0},{default:we(()=>[A(l).uid?(E(),ye(r,{key:0,title:u.$t("settings.logout"),clickable:"",class:"van-text-color",onClick:s},null,8,["title"])):_e("",!0)]),_:1}),ve("div",Me,I(u.$t("settings.currentVersion"))+": v"+I(A(Ve)),1)])}}});typeof N=="function"&&N(V);const qe=pe(V,[["__scopeId","data-v-0c65e770"]]);export{qe as default};
