System.register(["./index-legacy-D39K3ktw.js","./index-legacy-yTwRgCB1.js","./use-id-legacy-C0n7ZrS5.js","./index-legacy-a9oWbRRZ.js","./toNumber-legacy-Dr0V64cZ.js"],(function(e,t){"use strict";var r,a,n,l,o,i,s,u,c,d,g,m,f,v,p,h,b,y,S,x,k,w,B,V,M,A,C,E,I,P,T,$,z,j,F,W,_,q,L,D,N,O,R,H,G,K,U,J,Q,X,Y;return{setters:[e=>{r=e.d,a=e.t,n=e.n,l=e.c,o=e.o,i=e.h,s=e.k,u=e.p,c=e.al,d=e.C,g=e.am,m=e.an,f=e.ao,v=e.ap,p=e.aq,h=e.e,b=e.a2,y=e.r,S=e.g,x=e.f,k=e.F,w=e.ar,B=e.s,V=e.A,M=e.W,A=e.j,C=e.i,E=e.as,I=e.a8,P=e.a,T=e.V,$=e.$,z=e.z,j=e.l,F=e.D,W=e.y,_=e.a9,q=e.at,L=e._,D=e.R,N=e.N,O=e.O,R=e.au},e=>{H=e.C,G=e.c},e=>{K=e.u},e=>{U=e.B},e=>{J=e.a,Q=e.S,X=e.t,Y=e.r}],execute:function(){e("v",(function(e){if(0===e)return e;const t=we(100*e/Be,3),r=we(e*Ve/Be,3);return`${e>0?"min":"max"}(${t}vw, ${r}px)`}));const[t,Z]=l("form"),ee={colon:Boolean,disabled:Boolean,readonly:Boolean,required:[Boolean,String],showError:Boolean,labelWidth:n,labelAlign:String,inputAlign:String,scrollToError:Boolean,scrollToErrorPosition:String,validateFirst:Boolean,submitOnEnter:a,showErrorMessage:a,errorMessageAlign:String,validateTrigger:{type:[String,Array],default:"onBlur"}};var te=r({name:t,props:ee,emits:["submit","failed"],setup(e,{emit:t,slots:r}){const{children:a,linkChildren:n}=o(c),l=e=>e?a.filter((t=>e.includes(t.name))):a,d=t=>{return"string"==typeof t?(e=>{const t=a.find((t=>t.name===e));return t?new Promise(((e,r)=>{t.validate().then((t=>{t?r(t):e()}))})):Promise.reject()})(t):e.validateFirst?(r=t,new Promise(((e,t)=>{const a=[];l(r).reduce(((e,t)=>e.then((()=>{if(!a.length)return t.validate().then((e=>{e&&a.push(e)}))}))),Promise.resolve()).then((()=>{a.length?t(a):e()}))}))):(e=>new Promise(((t,r)=>{const a=l(e);Promise.all(a.map((e=>e.validate()))).then((e=>{(e=e.filter(Boolean)).length?r(e):t()}))})))(t);var r},g=(e,t)=>{a.some((r=>r.name===e&&(r.$el.scrollIntoView(t),!0)))},m=()=>a.reduce(((e,t)=>(void 0!==t.name&&(e[t.name]=t.formValue.value),e)),{}),f=()=>{const r=m();d().then((()=>t("submit",r))).catch((a=>{t("failed",{values:r,errors:a});const{scrollToError:n,scrollToErrorPosition:l}=e;n&&a[0].name&&g(a[0].name,l?{block:l}:void 0)}))},v=e=>{u(e),f()};return n({props:e}),i({submit:f,validate:d,getValues:m,scrollToField:g,resetValidation:e=>{"string"==typeof e&&(e=[e]),l(e).forEach((e=>{e.resetValidation()}))},getValidationStatus:()=>a.reduce(((e,t)=>(e[t.name]=t.getValidationStatus(),e)),{})}),()=>{var e;return s("form",{class:Z(),onSubmit:v},[null==(e=r.default)?void 0:e.call(r)])}}});function re(e){return Array.isArray(e)?!e.length:0!==e&&!e}function ae(e,t){const{message:r}=t;return v(r)?r(e,t):r||""}function ne({target:e}){e.composing=!0}function le({target:e}){e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}function oe(e){return[...e].length}function ie(e,t){return[...e].slice(0,t).join("")}e("a",d(te));const[se,ue]=l("field"),ce={id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:n,max:Number,min:Number,formatter:Function,clearIcon:z("clear"),modelValue:j(""),inputAlign:String,placeholder:String,autocomplete:String,autocapitalize:String,autocorrect:String,errorMessage:String,enterkeyhint:String,clearTrigger:z("focus"),formatTrigger:z("onChange"),spellcheck:{type:Boolean,default:null},error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null},inputmode:String},de=h({},G,ce,{rows:n,type:z("text"),rules:Array,autosize:[Boolean,Object],labelWidth:n,labelClass:F,labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}});var ge=r({name:se,props:de,emits:["blur","focus","clear","keypress","clickInput","endValidate","startValidate","clickLeftIcon","clickRightIcon","update:modelValue"],setup(e,{emit:t,slots:r}){const a=K(),n=b({status:"unvalidated",focused:!1,validateMessage:""}),l=y(),o=y(),d=y(),{parent:v}=S(c),h=()=>{var t;return String(null!=(t=e.modelValue)?t:"")},z=t=>C(e[t])?e[t]:v&&C(v.props[t])?v.props[t]:void 0,j=x((()=>{const t=z("readonly");if(e.clearable&&!t){const t=""!==h(),r="always"===e.clearTrigger||"focus"===e.clearTrigger&&n.focused;return t&&r}return!1})),F=x((()=>d.value&&r.input?d.value():e.modelValue)),L=x((()=>{var t;const r=z("required");return"auto"===r?null==(t=e.rules)?void 0:t.some((e=>e.required)):r})),D=e=>e.reduce(((e,t)=>e.then((()=>{if("failed"===n.status)return;let{value:e}=F;if(t.formatter&&(e=t.formatter(e,t)),!function(e,t){if(re(e)){if(t.required)return!1;if(!1===t.validateEmpty)return!0}return!(t.pattern&&!t.pattern.test(String(e)))}(e,t))return n.status="failed",void(n.validateMessage=ae(e,t));if(t.validator){if(re(e)&&!1===t.validateEmpty)return;return function(e,t){return new Promise((r=>{const a=t.validator(e,t);p(a)?a.then(r):r(a)}))}(e,t).then((r=>{r&&"string"==typeof r?(n.status="failed",n.validateMessage=r):!1===r&&(n.status="failed",n.validateMessage=ae(e,t))}))}}))),Promise.resolve()),N=()=>{n.status="unvalidated",n.validateMessage=""},O=()=>t("endValidate",{status:n.status,message:n.validateMessage}),R=(r=e.rules)=>new Promise((a=>{N(),r?(t("startValidate"),D(r).then((()=>{"failed"===n.status?(a({name:e.name,message:n.validateMessage}),O()):(n.status="passed",a(),O())}))):a()})),G=t=>{if(v&&e.rules){const{validateTrigger:r}=v.props,a=E(r).includes(t),n=e.rules.filter((e=>e.trigger?E(e.trigger).includes(t):a));n.length&&R(n)}},U=(r,a="onChange")=>{var o,i;const s=r;r=(t=>{var r;const{maxlength:a}=e;if(C(a)&&oe(t)>+a){const e=h();if(e&&oe(e)===+a)return e;const o=null==(r=l.value)?void 0:r.selectionEnd;if(n.focused&&o){const e=[...t],r=e.length-+a;return e.splice(o-r,r),e.join("")}return ie(t,+a)}return t})(r);const u=oe(s)-oe(r);if("number"===e.type||"digit"===e.type){const t="number"===e.type;if(r=I(r,t,t),"onBlur"===a&&""!==r&&(void 0!==e.min||void 0!==e.max)){const t=P(+r,null!=(o=e.min)?o:-1/0,null!=(i=e.max)?i:1/0);+r!==t&&(r=t.toString())}}let c=0;if(e.formatter&&a===e.formatTrigger){const{formatter:t,maxlength:a}=e;if(r=t(r),C(a)&&oe(r)>+a&&(r=ie(r,+a)),l.value&&n.focused){const{selectionEnd:e}=l.value,r=ie(s,e);c=oe(t(r))-oe(r)}}if(l.value&&l.value.value!==r)if(n.focused){let{selectionStart:e,selectionEnd:t}=l.value;if(l.value.value=r,C(e)&&C(t)){const a=oe(r);u?(e-=u,t-=u):c&&(e+=c,t+=c),l.value.setSelectionRange(Math.min(e,a),Math.min(t,a))}}else l.value.value=r;r!==e.modelValue&&t("update:modelValue",r)},J=e=>{e.target.composing||U(e.target.value)},Q=()=>{var e;return null==(e=l.value)?void 0:e.blur()},X=()=>{var e;return null==(e=l.value)?void 0:e.focus()},Y=()=>{const t=l.value;"textarea"===e.type&&e.autosize&&t&&function(e,t){const r=g();e.style.height="auto";let a=e.scrollHeight;if(m(t)){const{maxHeight:e,minHeight:r}=t;void 0!==e&&(a=Math.min(a,e)),void 0!==r&&(a=Math.max(a,r))}a&&(e.style.height=`${a}px`,f(r))}(t,e.autosize)},Z=e=>{n.focused=!0,t("focus",e),V(Y),z("readonly")&&Q()},ee=e=>{n.focused=!1,U(h(),"onBlur"),t("blur",e),z("readonly")||(G("onBlur"),V(Y),_())},te=e=>t("clickInput",e),se=e=>t("clickLeftIcon",e),ce=e=>t("clickRightIcon",e),de=x((()=>"boolean"==typeof e.error?e.error:!(!v||!v.props.showError||"failed"!==n.status)||void 0)),ge=x((()=>{const e=z("labelWidth"),t=z("labelAlign");if(e&&"top"!==t)return{width:k(e)}})),me=r=>{13===r.keyCode&&(v&&v.props.submitOnEnter||"textarea"===e.type||u(r),"search"===e.type&&Q()),t("keypress",r)},fe=()=>e.id||`${a}-input`,ve=()=>{const t=ue("control",[z("inputAlign"),{error:de.value,custom:!!r.input,"min-height":"textarea"===e.type&&!e.autosize}]);if(r.input)return s("div",{class:t,onClick:te},[r.input()]);const n={id:fe(),ref:l,name:e.name,rows:void 0!==e.rows?+e.rows:void 0,class:t,disabled:z("disabled"),readonly:z("readonly"),autofocus:e.autofocus,placeholder:e.placeholder,autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,enterkeyhint:e.enterkeyhint,spellcheck:e.spellcheck,"aria-labelledby":e.label?`${a}-label`:void 0,"data-allow-mismatch":"attribute",onBlur:ee,onFocus:Z,onInput:J,onClick:te,onChange:le,onKeypress:me,onCompositionend:le,onCompositionstart:ne};return"textarea"===e.type?s("textarea",W(n,{inputmode:e.inputmode}),null):s("input",W((o=e.type,i=e.inputmode,"number"===o&&(o="text",null!=i||(i="decimal")),"digit"===o&&(o="tel",null!=i||(i="numeric")),{type:o,inputmode:i}),n),null);var o,i},pe=()=>{const t=r["right-icon"];if(e.rightIcon||t)return s("div",{class:ue("right-icon"),onClick:ce},[t?t():s(T,{name:e.rightIcon,classPrefix:e.iconPrefix},null)])},he=()=>{if(e.showWordLimit&&e.maxlength){const t=oe(h());return s("div",{class:ue("word-limit")},[s("span",{class:ue("word-num")},[t]),$("/"),e.maxlength])}},be=()=>{if(v&&!1===v.props.showErrorMessage)return;const t=e.errorMessage||n.validateMessage;if(t){const e=r["error-message"],a=z("errorMessageAlign");return s("div",{class:ue("error-message",a)},[e?e({message:t}):t])}},ye=()=>[s("div",{class:ue("body")},[ve(),j.value&&s(T,{ref:o,name:e.clearIcon,class:ue("clear")},null),pe(),r.button&&s("div",{class:ue("button")},[r.button()])]),he(),be()];return i({blur:Q,focus:X,validate:R,formValue:F,resetValidation:N,getValidationStatus:()=>n.status}),w(q,{customValue:d,resetValidation:N,validateWithTrigger:G}),B((()=>e.modelValue),(()=>{U(h()),N(),G("onChange"),V(Y)})),M((()=>{U(h(),e.formatTrigger),V(Y)})),A("touchstart",(e=>{u(e),t("update:modelValue",""),t("clear",e)}),{target:x((()=>{var e;return null==(e=o.value)?void 0:e.$el}))}),()=>{const t=z("disabled"),n=z("labelAlign"),l=(()=>{const t=r["left-icon"];if(e.leftIcon||t)return s("div",{class:ue("left-icon"),onClick:se},[t?t():s(T,{name:e.leftIcon,classPrefix:e.iconPrefix},null)])})();return s(H,{size:e.size,class:ue({error:de.value,disabled:t,[`label-${n}`]:n}),center:e.center,border:e.border,isLink:e.isLink,clickable:e.clickable,titleStyle:ge.value,valueClass:ue("value"),titleClass:[ue("label",[n,{required:L.value}]),e.labelClass],arrowDirection:e.arrowDirection},{icon:l&&"top"!==n?()=>l:null,title:()=>{const t=(()=>{const t=z("labelWidth"),n=z("labelAlign"),l=z("colon")?":":"";return r.label?[r.label(),l]:e.label?s("label",{id:`${a}-label`,for:r.input?void 0:fe(),"data-allow-mismatch":"attribute",onClick:e=>{u(e),X()},style:"top"===n&&t?{width:k(t)}:void 0},[e.label+l]):void 0})();return"top"===n?[l,t].filter(Boolean):t||[]},value:ye,extra:r.extra})}}});e("F",d(ge));var me=Array.isArray,fe=Q?Q.prototype:void 0,ve=fe?fe.toString:void 0;function pe(e){if("string"==typeof e)return e;if(me(e))return function(e,t){for(var r=-1,a=null==e?0:e.length,n=Array(a);++r<a;)n[r]=t(e[r],r,e);return n}(e,pe)+"";if(J(e))return ve?ve.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}var he=1/0;function be(e){var t=function(e){return e?(e=X(e))===he||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}(e),r=t%1;return t==t?r?t-r:t:0}function ye(e){return null==e?"":pe(e)}var Se,xe=Y.isFinite,ke=Math.min,we=(Se=Math.round,function(e,t){if(e=X(e),(t=null==t?0:ke(be(t),292))&&xe(e)){var r=(ye(e)+"e").split("e");return+((r=(ye(Se(r[0]+"e"+(+r[1]+t)))+"e").split("e"))[0]+"e"+(+r[1]-t))}return Se(e)});e("_",L({},[["render",function(e,t){const r=U;return N(),D(r,{size:"small",plain:"",type:"primary"},{default:O((()=>[R(e.$slots,"default",{},void 0,!0)])),_:3})}],["__scopeId","data-v-bf9d23c4"],["__file","C:/Users/Administrator/Desktop/vue-crx/vue3-vant-mobile/src/components/GhostButton.vue"]]));const Be=375,Ve=600}}}));
